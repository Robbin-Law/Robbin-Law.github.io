<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Diode Physics and Models – Home</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<link href="../../../semiconductors/section1/topic2/index.html" rel="next">
<link href="../../../semiconductors/index.html" rel="prev">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap-741491795e2b8297c661fe89d2da0c58.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../../styles.css">
<meta property="og:title" content="Diode Physics and Models – Home">
<meta property="og:description" content="">
<meta property="og:image" content="assets/img/PeriodicTable.JPG">
<meta property="og:site_name" content="Home">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Home</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="../../../semiconductors/index.html" aria-current="page"> 
<span class="menu-text">Semiconductors</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../embedded-systems/index.html"> 
<span class="menu-text">Embedded-Systems</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../../semiconductors/section1/topic1/index.html">Diodes</a></li><li class="breadcrumb-item"><a href="../../../semiconductors/section1/topic1/index.html">Diode Physics and Models</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../semiconductors/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Semiconductors</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Diodes</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../semiconductors/section1/topic1/index.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Diode Physics and Models</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../semiconductors/section1/topic2/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Rectifiers</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../semiconductors/section1/topic3/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Filtering &amp; Regulation</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#passive-components-vs.-active-components" id="toc-passive-components-vs.-active-components" class="nav-link active" data-scroll-target="#passive-components-vs.-active-components">Passive Components vs.&nbsp;Active Components</a>
  <ul class="collapse">
  <li><a href="#passive-components" id="toc-passive-components" class="nav-link" data-scroll-target="#passive-components">Passive Components</a></li>
  <li><a href="#active-components" id="toc-active-components" class="nav-link" data-scroll-target="#active-components">Active Components</a></li>
  </ul></li>
  <li><a href="#insulators-conductors-and-semiconductors" id="toc-insulators-conductors-and-semiconductors" class="nav-link" data-scroll-target="#insulators-conductors-and-semiconductors">Insulators, Conductors, and Semiconductors</a>
  <ul class="collapse">
  <li><a href="#doped-semiconductor-materials" id="toc-doped-semiconductor-materials" class="nav-link" data-scroll-target="#doped-semiconductor-materials">Doped Semiconductor Materials</a></li>
  <li><a href="#the-p-n-junction" id="toc-the-p-n-junction" class="nav-link" data-scroll-target="#the-p-n-junction">The P-N Junction</a></li>
  <li><a href="#the-diode" id="toc-the-diode" class="nav-link" data-scroll-target="#the-diode">The Diode</a></li>
  </ul></li>
  <li><a href="#diode-models" id="toc-diode-models" class="nav-link" data-scroll-target="#diode-models">Diode Models</a></li>
  <li><a href="#modelling" id="toc-modelling" class="nav-link" data-scroll-target="#modelling">Modelling</a>
  <ul class="collapse">
  <li><a href="#ideal-model" id="toc-ideal-model" class="nav-link" data-scroll-target="#ideal-model">Ideal Model</a></li>
  <li><a href="#practical-model" id="toc-practical-model" class="nav-link" data-scroll-target="#practical-model">Practical Model</a></li>
  <li><a href="#complete-model" id="toc-complete-model" class="nav-link" data-scroll-target="#complete-model">Complete Model</a></li>
  </ul></li>
  <li><a href="#applying-models" id="toc-applying-models" class="nav-link" data-scroll-target="#applying-models">Applying Models</a></li>
  <li><a href="#examples-diode-model-comparisons" id="toc-examples-diode-model-comparisons" class="nav-link" data-scroll-target="#examples-diode-model-comparisons">Examples – Diode Model Comparisons</a>
  <ul class="collapse">
  <li><a href="#example-1" id="toc-example-1" class="nav-link" data-scroll-target="#example-1">Example 1:</a></li>
  <li><a href="#example-2" id="toc-example-2" class="nav-link" data-scroll-target="#example-2">Example 2:</a></li>
  <li><a href="#example-3" id="toc-example-3" class="nav-link" data-scroll-target="#example-3">Example 3:</a></li>
  <li><a href="#example-4" id="toc-example-4" class="nav-link" data-scroll-target="#example-4">Example 4:</a></li>
  <li><a href="#example-5" id="toc-example-5" class="nav-link" data-scroll-target="#example-5">Example 5:</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../../semiconductors/section1/topic1/index.html">Diodes</a></li><li class="breadcrumb-item"><a href="../../../semiconductors/section1/topic1/index.html">Diode Physics and Models</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Diode Physics and Models</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Original Author: Ross Taylor <br></p>
<p><a href="assets/Diode-Physics-and-Models.pdf" target="_blank">Original Article</a></p>
<!-- Page 1 -->
<section id="passive-components-vs.-active-components" class="level2">
<h2 class="anchored" data-anchor-id="passive-components-vs.-active-components">Passive Components vs.&nbsp;Active Components</h2>
<section id="passive-components" class="level3">
<h3 class="anchored" data-anchor-id="passive-components">Passive Components</h3>
<p>In a previous course, you worked with a group of electrical components that we refer to as&nbsp;Passive Components&nbsp;– components that behave according to simple mathematical relationships in response to changes in the rest of the circuitry.&nbsp; For example, unless you push it beyond its limits, a resistor will always behave very nearly as predicted by</p>
<p><span class="math inline">\(V=IR\)</span></p>
<p>A capacitor will always respond very nearly as predicted by</p>
<p><span class="math inline">\(‌i_C=C(dv/dt)\)</span></p>
<p>An inductor will always respond very nearly as predicted by</p>
<p><span class="math inline">\(‌v_L=L(di/dt)\)</span></p>
<p>Both the capacitor and inductor, as predicted by their basic formulas, will generate exponential charging functions when placed in series with a resistor and powered by a fixed voltage source.</p>
<p>By the way, the “very nearly” caveats in the preceding description is an important indication that, by developing these formulas, we are creating simplified mathematical models of real devices.&nbsp; Real devices do other things that we don’t include in our models.&nbsp; For example, the resistance of a resistor changes with temperature, and temperature changes with current, something Ohm’s Law by itself doesn’t account for.&nbsp; Capacitors usually have a small leakage current which means the total current for charging a capacitor will be slightly greater than what is predicted by the model.&nbsp; Inductors are plagued by residual magnetism which means they don’t respond instantaneously to changes in the circuit as predicted by our mathematical model.&nbsp; However, the formulas we use to model the activity of these passive components is usually good enough for the work we’re doing.</p>
</section>
<section id="active-components" class="level3">
<h3 class="anchored" data-anchor-id="active-components">Active Components</h3>
<p>Active Components, on the other hand, behave differently for different conditions in a circuit.&nbsp; The diode is the simplest of the active components.&nbsp; Other examples that we will study in this course are transistors and operational amplifiers.</p>
<!-- Page 2 -->
</section>
</section>
<section id="insulators-conductors-and-semiconductors" class="level2">
<h2 class="anchored" data-anchor-id="insulators-conductors-and-semiconductors">Insulators, Conductors, and Semiconductors</h2>
<p>On a Periodic Table of the Elements, materials fall into three general categories.&nbsp; Most of the left and central part of the periodic table consists of metals, which conduct electricity and react with non-metals to form Ionic Bonds.&nbsp; On the right side are the non-metals, which do not readily conduct electricity. Most of these react to form Ionic Bonds with metals, but also form Covalent Bonds with other non-metals.&nbsp; There is one family of non-metals which almost never enter into any chemical reactions, that is the Ideal (or Noble) Gases.</p>
<p><img src="assets/img/PeriodicTable.JPG" class="img-fluid"></p>
<p>Periodic table is licensed under&nbsp;CC BY-SA 4.0&nbsp;</p>
<p>The nature of each&nbsp;element is largely determined by the outermost electrons as they position themselves around the nucleus.&nbsp; These outermost electrons are called the Valence Electrons, and for most elements, there are eight possible locations for valence electrons in what is called the Valence Shell.&nbsp; The remainder of the electrons, combined with the nucleus, form the core of the atom.</p>
<p>Metals typically have fewer than four valence electrons in their Valence Shell.&nbsp; If they have one valence electron, the core charge will be +1; two valence electrons means a core charge of +2; three valence electrons means a core charge of +3.</p>
<p>Non-metals typically have more than four valence electrons in their Valence Shell.&nbsp; If they have seven valence electrons, the core charge will be +7; six valence electrons means a core charge of +6; five valence electrons means a core charge of +5.</p>
<p>Metals, with their small core charges, have a weak attraction for their valence electrons, and so those electrons are relatively free to move as an electrical current when a voltage is applied across the material.&nbsp; In fact, these electrons are officially referred to as “Free Electrons”.</p>
<p><img src="assets/img/MetallicBonding.JPG" class="img-fluid"></p>
<p>Image from Chemistry LibreTexts</p>
<p>Also, these loosely-attracted valence electrons can be stripped away, leaving a positive ion which will be attracted to negative ions in an Ionic Bond.&nbsp; Ionic bonded compounds are typically non-conductive, because what used to be a free electron in the metal has now been bound to the non-metal atom.&nbsp; The strong attractions between the positive ions and negative ions often result in regularly-defined crystal structures.&nbsp; However, when dissolved in water, the ions become detached from each other, and can move as charged particles in the water, making the solution conductive.</p>
<p><img src="assets/img/IonicBonding.JPG" class="img-fluid"></p>
<p>Image from SlideShare</p>
<p>Non-metals with their large core charges, have a strong attraction for their valence electrons, so those electrons are not free to move in a current.&nbsp; As a result, non-metals make good insulators.&nbsp; When non-metals react with other non-metals, they form Covalent Bonds, in which they share pairs of valence electrons.&nbsp; Using the Quantum Mechanical model of atoms to explain this, valence electrons occupy orbitals that can be: empty, contain one electron, or contain two electrons.&nbsp; The most stable condition is for all the orbitals to be filled – i.e.&nbsp;containing two electrons, as is the natural case for the Ideal Gases, and which explains why they do not readily enter into chemical reactions.&nbsp; Covalent bonds result in atoms with single electrons in their orbitals sharing those electrons with other similar atoms so that both atoms now have full orbitals.&nbsp; The shared orbitals bind the atoms together tightly.&nbsp; The electrons in these new compound orbitals are not free to move through the material, so covalently-bonded compounds are, under normal conditions, non-conductive.&nbsp; They continue to be non-conductive when dissolved in water.</p>
<p><img src="assets/img/CovalentBond.JPG" class="img-fluid"></p>
<p>Image from expii.com</p>
<p>You’ll notice in the previous discussion statements like “under normal conditions” and “do not readily conduct”.&nbsp; The fact of the matter is that, given sufficient energy, any electron can be dislodged and can become a Free Electron until it loses its energy and is pulled back into either its original location or another similar location.&nbsp; In other words, any material can be made to conduct if the electrical field is strong enough to dislodge it or if it absorbs sufficient energy from, say, a photon striking it.</p>
<p>Up to this point, we’ve discussed Conductors and Insulators.&nbsp; The real point of this discussion was to get to Semiconductors.&nbsp; In a small band of the periodic table between the conductors and insulators, you’ll find a group of elements called the semiconductors.&nbsp; The two most common of these, silicon and germanium, each have four valence electrons, which puts them in the middle between the metals (&lt;4) and the non-metals (&gt;4).&nbsp; Thus, they exhibit characteristics which are neither metallic nor non-metallic.&nbsp; They conduct more readily than non-metals, but they enter into covalent bonds with non-metals.&nbsp; However, their electrons are not as tightly bound into covalent bonds as with typical non-metals, and can be relatively easily become free electrons.&nbsp; The differences between Insulators, Conductors, and Semiconductors can be pictured using an Energy Diagram.</p>
<p><img src="assets/img/EnergyDiagram.JPG" class="img-fluid"></p>
<p>A lot of energy is required to make an insulator conduct, i.e.&nbsp;to move its electrons out of the valence band into the conduction band as free electrons.&nbsp; Almost no energy is required to move the electrons in a conductor, as there are already free electrons in the conduction band.&nbsp; Semiconductors lie halfway between these extremes.</p>
<section id="doped-semiconductor-materials" class="level3">
<h3 class="anchored" data-anchor-id="doped-semiconductor-materials">Doped Semiconductor Materials</h3>
<p>Silicon&nbsp;is the most commonly-used semiconductor material, so we’ll focus on it as we move toward an understanding of how the diode works.&nbsp; Silicon has four valence electrons, and is therefore Tetravalent.</p>
<p>In one of its natural conditions, silicon bonds covalently into a tetrahedral crystal structure.&nbsp; A Lewis Diagram shows a flattened version of the bonds that take place.</p>
<p><img src="assets/img/SiliconIntrinsic.JPG" class="img-fluid" style="width:4in"></p>
<p>Pure silicon is also called “Intrinsic silicon”, because it contains no other material than silicon atoms.&nbsp; This is not only very difficult to achieve, but it also doesn’t bring us any closer to the answer as to how a diode works.&nbsp; It is much more likely that a crystal of silicon will contain some impurities, and will therefore be “Extrinsic silicon”.&nbsp; If the bulk of the impurity added to the silicon crystal is the same element, we refer to the result as “Doped silicon”.</p>
<section id="n-type-silicon" class="level4">
<h4 class="anchored" data-anchor-id="n-type-silicon">N-Type silicon</h4>
<p>If a very small amount of a five-valence electron, or Pentavalent, dopant is introduced into a silicon crystal, the Pentavalent atoms will be forced into the crystal lattice structure of the silicon crystal, but only four of the electrons will be accepted into the covalent bonds.&nbsp; That leaves the fifth one as a Free Electron, and, just in metal, this electron will be able to move in a current, making this doped crystal a conductor.&nbsp; Since the pentavalent dopant has donated a negatively charged Carrier, the new material is referred to as N-Type Material.&nbsp; The Pentavalent Dopant is referred to as a Donor.&nbsp; The following Lewis Diagram shows a single Phosphorus atom trapped in a silicon crystal, and its resulting Free Electron.</p>
<p><img src="assets/img/SiliconNType.JPG" class="img-fluid" style="width:4in">&nbsp; &nbsp;&nbsp;&nbsp;</p>
</section>
<section id="p-type-silicon" class="level4">
<h4 class="anchored" data-anchor-id="p-type-silicon">P-Type silicon</h4>
<p>If a very small amount of a three-valence electron, or Trivalent, dopant is introduced into a silicon crystal, the Trivalent atoms forced into the crystal will not be able to contribute an electron to all four of the surrounding silicon atoms, so there will be an orbital with only one electron in it.&nbsp; This orbital has an electrical attraction to any available electrons which may temporarily “fall in”, so these are referred to as Holes.&nbsp; If a source of electrons is connected to one end of the crystal and a positive potential is connected to the other end, electrons will migrate from hole to hole through the crystal, again resulting in a current.&nbsp; Although the Holes are stationary, they appear to be moving in the opposite direction to the flow of electrons, so this is referred to as Hole Current.&nbsp; The Trivalent Dopant&nbsp;provide places for electrons to fall into so it is called an Acceptor. The following Lewis Diagram shows a single Aluminum atom trapped in a silicon crystal, and its resulting hole.</p>
<p><img src="assets/img/SiliconPType.JPG" class="img-fluid" style="width:4in"></p>
<p>In each of these types of material, it is still possible for electrons in covalent bonds to be ejected by sufficient incoming energy, but this small amount of current is only noticeable if there is little other current.&nbsp; Consequently, the main form of current is referred to as Majority Current, and the current from the valence electrons is called Minority Current. &nbsp; So, now we have two new conductive materials.&nbsp; That still doesn’t answer the question of how the diode works.&nbsp; The “magic” happens when we combine these two materials.</p>
</section>
</section>
<section id="the-p-n-junction" class="level3">
<h3 class="anchored" data-anchor-id="the-p-n-junction">The P-N Junction</h3>
<p>Normally, when we connect two conductors together, we expect to just have a longer conductor.&nbsp; However, when we bond P-Material to N-Material, we observe some very interesting behavior.&nbsp; Here’s a block diagram to help with understanding what happens.</p>
<p><img src="assets/img/PN-Junction-Block-Diagram.JPG" class="img-fluid" style="width:4in"></p>
<ul>
<li>Right at the connection point, or P-N Junction, the free electrons in the N-Type material are “pulled into” the holes in the P-Type material, in a process called “Recombination”.&nbsp; That means, at the junction there are no charge carriers, therefore the P-N Junction in its natural state is a non-conductor.</li>
<li>A net positive charge collects on the N-Type side and a net negative charge collects on the P-Type side of the barrier.&nbsp; This results in a potential difference (voltage) referred to as the Barrier Potential.</li>
</ul>
<p>What an unexpected result!&nbsp; Connecting two conductors together has created a non-conductor!</p>
<p>Let’s investigate the Barrier Potential a bit more.&nbsp; For silicon junctions, this barrier potential is between 0.5 V and 0.8 V.&nbsp; Not very big!&nbsp; In fact, a potential this small is easy to overcome.&nbsp; Recall, from your Basic Electricity course, that in a circuit with two voltage sources in series, current will flow in the direction dictated by the larger source.&nbsp; In other words, the bigger source overcomes the potential from the smaller source, and drives current “backwards” through it.</p>
<p>In essence, that’s what happens to the P-N Junction when we connect an opposing external voltage source to it.&nbsp; To do this, we apply the positive side of the source to the P-Type material and the negative side to the N-Type material.&nbsp; The negative side of the power supply drives electrons into the N-Type side of the junction, and the positive side of the power supply pulls electrons out of the holes in the P-Type material.&nbsp; With carriers on both sides of the junction, it turns back into a conductor, and current flows.</p>
<p><strong>Forward Biasing</strong>&nbsp;is the term used to describe applying an external power supply greater than the barrier potential to a P-N Junction with&nbsp;positive to the P-Type material and negative to the N-Type material.&nbsp; Forward Biasing results in a flow of current through the junction.&nbsp; The resistance of the junction will be very low.</p>
<p><strong>Reverse Biasing</strong>&nbsp;is the opposite situation.&nbsp; If an external power supply is applied with the negative side to the P-Type material and positive to the N-Type material, the positive side of the supply draws electrons away from the barrier on the N-Type side, and the negative side of the supply drives electrons into the holes in the P-Type material,widening the barrier and preventing the flow of current.&nbsp; Since no current flows, the junction appears as an&nbsp;open circuit&nbsp;or a very high resistance,&nbsp;and the voltage across it will match the supply voltage.&nbsp; In other words, the reverse-biased P-N Junction has a barrier potential essentially equal to the supply voltage.</p>
<p><strong>Reverse Breakdown</strong>&nbsp;will occur if the power supply voltage is increased beyond the maximum voltage the P-N Junction can withstand.&nbsp; At this point, the electrons cascade through the material as they would through a metal conductor, and the resistance becomes very low.&nbsp; (Reverse Breakdown occurs at different voltages for each device, depending on the way the device has been constructed.)</p>
<p><strong>Thermal Destruction</strong>&nbsp;happens very quickly in either the forward or reverse direction if the resulting current is too great.&nbsp; Recall that&nbsp;P=I2R.&nbsp; Even though the resistance is low, the squared current part of the calculation can result in a lot of power.</p>
<p><strong>Circuit Biasing</strong>&nbsp;involves placing current-limiting devices, usually resistors, in series with the P-N Junction to limit the current and thereby prevent Thermal Destruction.&nbsp;&nbsp;<strong>Don’t put a P-N Junction directly across a power supply!&nbsp; You must limit the current using Circuit Biasing!</strong></p>
</section>
<section id="the-diode" class="level3">
<h3 class="anchored" data-anchor-id="the-diode">The Diode</h3>
<p>A single P-N junction, wired with connections to the P-Type and N-Type material, is called a&nbsp;Diode.&nbsp; Diodes come in lots of different shapes and varieties.&nbsp; In your parts kit, you have Small Signal Diodes (used to control small currents, usually for logic or radio frequency applications), Rectifier Diodes (used for high-current and often high-voltage applications like power supplies), and Zener Diodes (designed with carefully-controlled Reverse Breakdown voltages for controlling voltages in regulated power supplies).</p>
<p>The symbol for a diode is shown below, along with a picture showing a typical diode and the way the polarity is indicated on the package.</p>
<p><img src="assets/img/DiodeSchematicSymbol.jpg" class="img-fluid" style="width:3in"></p>
<p><img src="assets/img/DiodeAxial.jpg" class="img-fluid"></p>
<!-- Page 3 -->
</section>
</section>
<section id="diode-models" class="level2">
<h2 class="anchored" data-anchor-id="diode-models">Diode Models</h2>
<p>The behavior of the diode in response to changing conditions in the biasing circuit is surprisingly complex, as shown in the oscilloscope X-Y trace below.</p>
<p><img src="assets/img/DiodeCurve.jpg" class="img-fluid" style="width:4in"></p>
<p>This particular diode is a Zener diode, designed with a specific Reverse Breakdown voltage of 5.6 V.&nbsp; Notice the following:</p>
<ol class="example" type="1">
<li>Between approximately -5 V and +0.6 V, the current is essentially zero.&nbsp; However, with higher resolution, we would actually see a small current, perhaps 500 nA, flowing because of the Minority Carriers in the silicon.</li>
<li>As we approach 0.7 V, the current increases in an approximately parabolic, or second order manner.</li>
<li>Beyond this point, the current increases rapidly with very little change in voltage.&nbsp; However, the voltage does increase slightly, indicating that the diode has an internal resistance.&nbsp; Since V=IR, the slope of this section would be 1/R.</li>
<li>Also, as we approach -5.6 V, the current increases in the opposite direction, again in an approximately parabolic manner.</li>
<li>Beyond this point, the current again increases rapidly with very little change in voltage.&nbsp; Further analysis would indicate that the slope of this graph, again 1/R, would be quite similar to the slope at +0.7 V.</li>
</ol>
<p>The condition described in #1 above is the <strong>off</strong> condition of the diode, where current is practically zero.&nbsp; Most of it would be in the Reverse Biased region, but there is a small section that is technically forward biased but not with a high enough voltage to overcome the Barrier Potential.</p>
<p>The condition described in #3 above is the <strong>Forward Biased</strong> region, where the voltage remains relatively constant at approximately the Barrier Potential.</p>
<p>The condition described in #5 above is the <strong>Reverse Breakdown</strong> region.</p>
<p>#2 is referred to as the <strong>Forward Knee</strong>, due to its rounded shape and sudden change in direction.</p>
<p>#4 is referred to as the <strong>Reverse Knee</strong> for the same reasons.</p>
<p>This is quite unlike what we would expect to see for a passive component, such as the resistor.&nbsp; This is the Characteristic “Curve” for a resistor:</p>
<p><img src="assets/img/ResistorCharacteristic.jpg" class="img-fluid" style="width:4in"></p>
<p>In this case, a single expression describes the entire response of a resistor to a change in voltage:</p>
<p><span class="math inline">\(‌I=(1/R)V\)</span>, or simply Ohm’s Law.</p>
</section>
<section id="modelling" class="level2">
<h2 class="anchored" data-anchor-id="modelling">Modelling</h2>
<p>To make sense of our world, we as humans “model” everything we see.&nbsp; A model is a simplified description of a system or situation that can be used to predict future outcomes or to help us respond and control the system or situation.&nbsp; Ohm’s Law is a model of the behavior of a resistor, and it is simplified in that it doesn’t take into account the effect of temperature on resistance, it doesn’t include the “skin” effect of high frequency changes in voltage on the resistance, it doesn’t take into account the inductance or capacitance of a physical resistive component, it doesn’t account for changes in resistance due to humidity or radiation, and it doesn’t tell us what happens if too much current is driven through the resistor.</p>
<p>When it comes to diodes, our models typically ignore the parabolic regions at the Forward and Reverse Knees.</p>
<p>Then, depending on how accurately we need to model the device, we may ignore other features:</p>
<ul>
<li>We often don’t include the Reverse Breakdown region, as we assume our circuit will be biased to avoid this.</li>
<li>We often don’t include the slope of the Forward bias region, treating the diode as if its dynamic internal resistance is zero.</li>
<li>We may even overlook the fact that we need to overcome the Barrier Potential before the diode conducts.</li>
</ul>
<section id="ideal-model" class="level3">
<h3 class="anchored" data-anchor-id="ideal-model">Ideal Model</h3>
<p>This is the simplest model.&nbsp; It just says a diode conducts when forward biased and doesn’t conduct when reverse biased – a polarity-controlled switch, if you wish.</p>
<p><img src="assets/img/DiodeIdealModel.jpg" class="img-fluid" style="width:4in"></p>
</section>
<section id="practical-model" class="level3">
<h3 class="anchored" data-anchor-id="practical-model">Practical Model</h3>
<p>This one takes into account the Barrier Potential, which needs to be overcome before the diode can conduct.&nbsp; Otherwise, it behaves like a zero-ohm switch.</p>
<p><img src="assets/img/DiodePracticalModel.jpg" class="img-fluid" style="width:4in"></p>
</section>
<section id="complete-model" class="level3">
<h3 class="anchored" data-anchor-id="complete-model">Complete Model</h3>
<p>This one takes into account more of the actual characteristics, primarily the small internal resistance of the diode when it conducts and the small leakage current due to Minority Carriers.&nbsp; Although the Knees are shown as parabolas, we usually don’t concern ourselves with that unless we have a good reason to.</p>
<p><img src="assets/img/DiodeCompleteModel.jpg" class="img-fluid" style="width:4in"></p>
</section>
</section>
<section id="applying-models" class="level2">
<h2 class="anchored" data-anchor-id="applying-models">Applying Models</h2>
<p>The question is:&nbsp; which model do I choose, when, and why?</p>
<p>In essence, it depends on how accurate the result needs to be and the circuit characteristics.</p>
<p>If all you care about is presence or absence of current (binary), use the Ideal Model. If you’re working with really large voltages, where 0.7 V is insignificant, and if the resistances are considerably greater than the diode’s dynamic internal resistance,&nbsp;just use the Ideal Model. If you’re working with small voltages and reasonable-sized resistors (like most of what we do in this course), use the Practical Model. If you’re working with large currents in Forward Biasing or really big resistors in Reverse Biasing, you’ll need the Complete Model to explain the otherwise-unexpected results you see.</p>
</section>
<section id="examples-diode-model-comparisons" class="level2">
<h2 class="anchored" data-anchor-id="examples-diode-model-comparisons">Examples – Diode Model Comparisons</h2>
<p>The following examples the forward junction&nbsp;voltage is assumed to be 0.7 V, the internal resistance of the diode is assumed to be 5.9 ‌Ω, and the reverse leakage current is assumed to be 500 nA.&nbsp;&nbsp;For each, the circuit current and the voltage across the diode (i.e.&nbsp;the voltage at the wire stub referenced to ground) are to be determined.</p>
<section id="example-1" class="level3">
<h3 class="anchored" data-anchor-id="example-1">Example 1:</h3>
<p><img src="assets/img/DiodeModelWE1.JPG" class="img-fluid" style="width:12in"></p>
<p>Ideal Model:</p>
<p><span class="math inline">\(V_D&nbsp;= 0.0 V\)</span>, since the closed switch is a short.</p>
<p><span class="math inline">\(I = V_R/R = (6 - 0)/22 k‌Ω&nbsp;= 273&nbsp;‌μA\)</span></p>
<p>Practical Model:</p>
<p><span class="math inline">\(V_D&nbsp;= 0.7 V\)</span></p>
<p><span class="math inline">\(I = V_R/R = (6 - 0.7)/22 k‌Ω&nbsp;= 241&nbsp;‌μA\)</span></p>
<p>Complete Model:</p>
<p>We’ll have to start with the current, using KVL:</p>
<p><span class="math inline">\(I = (6.0 - 0.7)/(22 k‌Ω&nbsp;+ 5.9&nbsp;‌Ω) = 241&nbsp;‌μA\)</span></p>
<p><span class="math inline">\(V_D&nbsp;= 0.7 + I * r'_D&nbsp;= 0.701 V\)</span></p>
<p>Clearly, in this example, the Ideal Model is significantly incorrect, but the Practical and Complete models predict essentially the same result; so, for a situation in which the power supply is relatively small and the current is limited by a substantial series resistor, we don’t need to use the Complete Model.</p>
</section>
<section id="example-2" class="level3">
<h3 class="anchored" data-anchor-id="example-2">Example 2:</h3>
<p><img src="assets/img/DiodeModelWE2.JPG" class="img-fluid" style="width:12in"></p>
<p>Ideal Model:</p>
<p><span class="math inline">\(V_D&nbsp;= 0.0 V\)</span>, since the closed switch is a short.</p>
<p><span class="math inline">\(I = V_R/R = (6 - 0)/120&nbsp;‌Ω&nbsp;= 50 mA\)</span></p>
<p>Practical Model:</p>
<p><span class="math inline">\(V_D&nbsp;= 0.7 V\)</span></p>
<p><span class="math inline">\(I = V_R/R = (6 - 0.7)/120&nbsp;‌Ω&nbsp;= 44.2 mA\)</span></p>
<p>Complete Model:</p>
<p>We’ll have to start with the current, using KVL:</p>
<p><span class="math inline">\(I = (6.0 - 0.7)/(120&nbsp;‌Ω&nbsp;+ 5.9&nbsp;‌Ω) = 42.1 mA\)</span></p>
<p><span class="math inline">\(V_D&nbsp;= 0.7 + I * r'_D&nbsp;= 0.948 V\)</span></p>
<p>In this example, the Ideal Model is significantly incorrect as in the previous example.&nbsp; But now the Practical is also significantly incorrect, so a proper prediction can only be made using the Complete model.&nbsp; So, for a situation in which the current is quite high as allowed by a relatively small series resistor, we need to use the Complete Model.</p>
</section>
<section id="example-3" class="level3">
<h3 class="anchored" data-anchor-id="example-3">Example 3:</h3>
<p><img src="assets/img/DiodeModelWE3.JPG" class="img-fluid" style="width:12in"></p>
<p>Ideal Model:</p>
<p><span class="math inline">\(V_D&nbsp;= 0.0 V\)</span>, since the closed switch is a short.</p>
<p><span class="math inline">\(I = V_R/R = (90 - 0)/56 k‌Ω&nbsp;= 1.61 mA\)</span></p>
<p>Practical Model:</p>
<p><span class="math inline">\(V_D&nbsp;= 0.7 V\)</span></p>
<p><span class="math inline">\(I = V_R/R = (90 - 0.7)/56 k‌Ω&nbsp;= 1.59 mA\)</span></p>
<p>Complete Model:</p>
<p>We’ll have to start with the current, using KVL:</p>
<p><span class="math inline">\(I = (90 - 0.7)/(56&nbsp;k‌Ω&nbsp;+ 5.9&nbsp;‌Ω) = 1.59 mA\)</span></p>
<p><span class="math inline">\(V_D&nbsp;= 0.7 + I * r'_D&nbsp;= 0.709 V\)</span></p>
<p>In this example, the currents predicted by all three models are practically the same, so the Ideal Model would be sufficient for current determination in a circuit where the supply voltage is considerably larger than the diode forward drop.&nbsp; The voltage across the diode is, of course, still significantly wrong, but the voltage across the resistor (90 V instead of 89.3 V) is not significantly incorrect.</p>
</section>
<section id="example-4" class="level3">
<h3 class="anchored" data-anchor-id="example-4">Example 4:</h3>
<p><img src="assets/img/DiodeModelWE4.JPG" class="img-fluid" style="width:12in"></p>
<p>Ideal Model:</p>
<p><span class="math inline">\(I = 0 A\)</span> because of the open circuit.</p>
<p><span class="math inline">\(V_D&nbsp;= 12 V\)</span>, since there is no current through the resistor, and therefore no voltage drop from the supply.</p>
<p>Practical Model:</p>
<p><span class="math inline">\(I = 0 A\)</span> because of the open circuit.</p>
<p><span class="math inline">\(V_D&nbsp;= 12 V\)</span>, since there is no current through the resistor, and therefore no voltage drop from the supply.</p>
<p>Complete Model:</p>
<p><span class="math inline">\(I = 500 nA\)</span></p>
<p><span class="math inline">\(V_D&nbsp;= 12 - I * R = 12 - 500 nA * 56 k‌Ω&nbsp;= 11.97 V\)</span></p>
<p>In this case, the Ideal and Practical models predict the same result, so the Ideal model is suitable.&nbsp; The Complete model also predicts almost the same result for the voltage, and 500 nA is pretty insignificant, so we don’t need the extra complication of the Complete model in a situation where the diode is reverse-biased and in series with a “reasonably sized” resistor.</p>
</section>
<section id="example-5" class="level3">
<h3 class="anchored" data-anchor-id="example-5">Example 5:</h3>
<p><img src="assets/img/DiodeModelWE5.JPG" class="img-fluid" style="width:12in"></p>
<p>Ideal Model:</p>
<p><span class="math inline">\(I = 0 A\)</span> because of the open circuit.</p>
<p><span class="math inline">\(V_D&nbsp;= 12 V\)</span>, since there is no current through the resistor, and therefore no voltage drop from the supply.</p>
<p>Practical Model:</p>
<p><span class="math inline">\(I = 0 A\)</span> because of the open circuit.</p>
<p><span class="math inline">\(V_D&nbsp;= 12 V\)</span>, since there is no current through the resistor, and therefore no voltage drop from the supply.</p>
<p>Complete Model:</p>
<p><span class="math inline">\(I = 500 nA\)</span></p>
<p><span class="math inline">\(V_D&nbsp;= 12 - I * R = 12 - 500 nA * 10 M‌Ω&nbsp;= 7.00 V\)</span></p>
<p>In this case, the Ideal and Practical models predict the same incorrect result, so the Complete model is the only one making accurate predictions.</p>
<p>In this situation, the very large series resistor introduces a significant voltage drop even with a seemingly insignificant leakage current.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../../../semiconductors/index.html" class="pagination-link" aria-label="Semiconductors">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Semiconductors</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../../semiconductors/section1/topic2/index.html" class="pagination-link" aria-label="Rectifiers">
        <span class="nav-page-text">Rectifiers</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Powered by Quarto</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>